<!DOCTYPE html>
<html>
<head>
    <title>{{ title }}</title>
</head>
<body>
    <h1>{{ title }}</h1>
    <button onclick="fetchData('/core')">Core Function</button>
    <button onclick="fetchData('/legacy')">Legacy Feature</button>
    <button onclick="fetchData('/new-feature')">New Feature</button>
    
    <h3 id="result">Result will appear here</h3>

    <script>
        function fetchData(endpoint) {
            fetch(endpoint)
                .then(response => {
                    // 시나리오 1번(Fail) 환경에서 에러 발생 시 처리
                    if (!response.ok) return response.text().then(t => { throw new Error(t) });
                    return response.text();
                })
                .then(data => {
                    document.getElementById('result').innerText = data;
                    document.getElementById('result').style.color = "black";
                })
                .catch(err => {
                    // 에러 발생 시 빨간색으로 표시 (시나리오 1번 강조용)
                    document.getElementById('result').innerText = "Error: " + err.message;
                    document.getElementById('result').style.color = "red";
                });
        }
    </script>
</body>
</html>